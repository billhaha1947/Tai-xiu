<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Leaderboard — Taixiu VIP</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="assets/style.css">
</head>
<body class="bg-black text-white">
  <div class="min-h-screen p-6">
    <div class="neon-card p-6 max-w-3xl mx-auto">
      <h1 class="text-2xl neon-text">Top Xu</h1>
      <div id="leaderboard-root" class="mt-4"></div>
    </div>
  </div>

<script>
  async function loadLeader(){
    // Fetch top users
    const res = await fetch('/admin/users'); // uses same endpoint sorted by balance
    if(!res.ok){ document.getElementById('leaderboard-root').innerText='Không thể lấy dữ liệu (cần token admin)'; return; }
    const j = await res.json();
    const users = j.users;
    document.getElementById('leaderboard-root').innerHTML = users.map((u,i)=>`
      <div class="p-3 neon-border flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="font-bold text-lg">${i+1}. ${u.username}</div>
        </div>
        <div class="text-yellow-300 font-bold">${u.balance} xu</div>
      </div>
    `).join('');
  }
  loadLeader();
</script>
</body>
</html>
